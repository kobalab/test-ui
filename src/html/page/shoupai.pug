doctype html
html(lang="ja")
  head
    include ../inc/meta
    title shoupai
    include ../inc/style
    include ../inc/script
    script.
        $(function(){
            const pai = Majiang.UI.pai('#loaddata');
            function submit() {
                let paistr  = $('[name="shoupai"]').val();
                let open    = ! $('[name="open"]').prop('checked');
                let shoupai = new Majiang.UI.Shoupai($('body .shoupai'), pai,
                                        Majiang.Shoupai.fromString(paistr)
                                    ).redraw(open);
                $('.bingpai .pai').on('click', (ev)=>{
                    $(ev.target).addClass('dapai');
                    shoupai.dapai();
                });
                return false;
            }
            $('form').on('submit', submit);
        });
  body.shoupai
    h1 shoupai
    include ../inc/loaddata
    form
      input(name="shoupai" size="28")
      label
        input(name="open" type="checkbox" value="1")
        | 伏せ牌
      input(type="submit")
    div
      - for (let i = 0; i < 3; i++)
        .shoupai
          .bingpai
          .fulou
